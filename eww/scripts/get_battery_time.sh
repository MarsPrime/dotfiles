#!/bin/bash

# Проверяем, передан ли аргумент (номер цифры)
if [ $# -ne 1 ]; then
    echo "Использование: $0 <номер цифры (1, 2, ...)>"
    exit 1
fi

digit_pos=$1  # Позиция цифры (1 = первая, 2 = вторая и т. д.)

# Получаем оставшееся время из acpi
battery_time=$(acpi | awk '{print $5}' 2>/dev/null)

# Проверяем, есть ли время в формате HH:MM:SS или HH:MM
if [[ $battery_time =~ [0-9]+:[0-9]+(:[0-9]+)? ]]; then
    # Удаляем все двоеточия и получаем цифры подряд (например, "02:15:30" → "021530")
    digits=$(echo "$battery_time" | tr -d ':')
    
    # Проверяем, существует ли запрошенная позиция цифры
    if [ ${#digits} -ge "$digit_pos" ]; then
        echo "${digits:digit_pos-1:1}"  # Выводим нужную цифру (индексация с 0)
    else
        echo "false (время содержит только ${#digits} цифр)"
    fi
else
    echo "0" 
fi
